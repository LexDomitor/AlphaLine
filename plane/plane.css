@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;800&display=swap');

:root { --bg: #080808; --accent: #2a2a2a; --text: #fff; --text-dim: #888; }

html, body { 
    margin: 0 !important; padding: 0 !important; 
    height: 100vh; width: 100vw; 
    background: #000; color: #fff; 
    font-family: 'Inter', sans-serif; 
    overflow: hidden; position: fixed; top: 0; left: 0; 
}

* { box-sizing: border-box; }

/* --- LOADER --- */
#loader { position: fixed; inset: 0; background: #000; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: opacity 1s ease; pointer-events: none; }
.loader-content { text-align: center; width: 350px; }
#loader-msg { font-size: 0.6rem; letter-spacing: 4px; color: #666; text-transform: uppercase; margin-bottom: 10px; }
#loader-sub { font-size: 0.8rem; letter-spacing: 2px; color: #fff; font-weight: 300; text-transform: uppercase; }
.progress-track { width: 100%; height: 2px; background: #111; margin-top: 25px; position: relative; }
#progress-bar { width: 0%; height: 100%; background: #fff; transition: width 2.5s ease; position: absolute; top:0; left:0; }

/* --- UI BARS --- */
.ui-bar { 
    position: fixed; left: 0; width: 100%; 
    background: rgba(12, 12, 12, 0.98); backdrop-filter: blur(20px); 
    z-index: 1000; transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.4s; 
    border: 1px solid #333; opacity: 1; transform: translateY(0);
}
.top-nav { top: 0 !important; height: 85px; padding: 0 3rem; display: flex; align-items: center; justify-content: space-between; border-width: 0 0 1px 0; }
.bottom-nav { bottom: 0; height: 60px; padding: 0 3rem; border-width: 1px 0 0 0; display: flex; align-items: center; justify-content: space-between; }
.brand-block { display: flex; align-items: center; gap: 15px; height: 100%; }
.exit-btn { cursor: pointer; font-size: 1.5rem; color: #555; transition: 0.3s; margin-right: 10px; display: flex; align-items: center; }
.exit-btn:hover { color: #fff; transform: translateX(-5px); }
.nav-text { font-size: 0.75rem; letter-spacing: 4px; text-transform: uppercase; color: #888; font-weight: 300; display: flex; align-items: center; }
.nav-text strong { font-weight: 800; color: #fff; letter-spacing: 5px; margin-right: 5px; }

.hide-ui .top-nav { transform: translateY(-100%); opacity: 0; }
.hide-ui .bottom-nav { transform: translateY(100%); opacity: 0; }

/* --- WORLD --- */
#viewport { width: 100vw; height: 100vh; cursor: grab; background: var(--bg); position: relative; overflow: hidden; }
#world { 
    position: absolute; width: 10000px; height: 10000px; transform-origin: 0 0; 
    background-color: var(--bg);
    background-image: 
        radial-gradient(circle, #444 1.5px, transparent 1.5px),
        linear-gradient(to right, #1a1a1a 1px, transparent 1px),
        linear-gradient(to bottom, #1a1a1a 1px, transparent 1px);
    background-size: 100px 100px; background-position: -1px -1px; will-change: transform;
}

/* --- NODES --- */
.node { position: absolute; background: #111; border: 1px solid #333; border-radius: 4px; width: 220px; display: flex; flex-direction: column; z-index: 10; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
.handle { height: 20px; background: #1a1a1a; cursor: grab; border-bottom: 1px solid #333; flex-shrink: 0; }
.node-content { padding: 12px; display: flex; flex-grow: 1; flex-direction: column; gap: 8px; }
input, textarea { background: #000; border: 1px solid #222; color: #fff; font-size: 0.75rem; padding: 8px; outline: none; width: 100%; box-sizing: border-box; }
.node-container { width: 500px; min-height: 320px; }
.container-grid { display: grid; grid-template-columns: 1fr 1fr; grid-auto-rows: 200px; gap: 12px; padding: 12px; flex-grow: 1; position: relative; }
.quad-layer { position: absolute; inset: 0; display: grid; grid-template-columns: 1fr 1fr; grid-auto-rows: 200px; gap: 12px; padding: 12px; pointer-events: none; }
.quad { border: 1px dashed rgba(255,255,255,0.05); }
.quad.active { background: rgba(255,255,255,0.15); border: 1px solid #fff; }
.node.snapped { position: relative !important; top: auto !important; left: auto !important; width: 100% !important; height: 100% !important; box-shadow: none; border-color: #444; }
.container-footer { height: 32px; border-top: 1px solid #333; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 0.6rem; color: #666; letter-spacing: 2px; }
.container-footer:hover { background: #1a1a1a; color: #fff; }

.tool-dock { position: fixed; left: 20px; top: 50%; transform: translateY(-50%); width: 42px; background: #111; border: 1px solid #333; border-radius: 20px; padding: 15px 0; display: flex; flex-direction: column; align-items: center; gap: 12px; z-index: 1100; }
.tool-item { width: 30px; height: 30px; border: 1px solid #444; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: #111; cursor: grab; font-size: 0.65rem; font-weight: 800; transition: 0.2s; }
.tool-item:hover { background: #fff; color: #000; }
#trash-zone { position: fixed; bottom: 80px; left: 20px; width: 60px; height: 60px; background: rgba(255,50,50,0.1); border: 2px dashed #ff3232; border-radius: 12px; display: flex; align-items: center; justify-content: center; opacity: 0; transition: 0.3s; z-index: 1100; font-size: 1.5rem; }
.is-dragging #trash-zone { opacity: 1; }
